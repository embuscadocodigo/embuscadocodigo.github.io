<!--Padrão 30/04/2017 embuscadocodigo.com v2.g
<a class="linkexterno" href="" target="_blank"></a>
-->

<!DOCTYPE html>

<html>
	<head>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
<!--titulos-->
		<title>Eventos onerror e onpageshow em JavaScript. Dica 27</title>
          <meta name="twitter:title" content="Eventos onerror e onpageshow em JavaScript. Dica 27">
<!--descrição-->
          <meta property="og:description" content="Nesta dica veremos um exemplo do evento onerror e outro exemplo do evento onpageshow em JavaScript."/>
          <meta name="twitter:description" content="Nesta dica veremos um exemplo do evento onerror e outro exemplo do evento onpageshow em JavaScript.">
<!--Palavras chave-->
          <meta name="keywords" content="onerror, onpageshow, JS, JavaScript, Curso de JavaScript, curso de javascript gratuito">
<!--Meta Tags globais-->
          <meta property="article:author" content='https://www.facebook.com/embuscadocodigo' />
          <meta property="og:url" content="http://embuscadocodigo.com/codigos/javascript/eventos-onerror-e-onpageshow-javascript.html"/>
          <meta property="og:site_name" content="http://embuscadocodigo.com">
          <meta property="og:type" content="article">
          <meta proterty="og:locale" content="pt_BR">
<!--Favicon-->
		<link rel="icon" href="http://embuscadocodigo.com/css/img/001.png">
<!--imagens de compartilhamento-->
      <!--Facebook-->
          <meta property="og:image:type" content="image/png">
          <meta property="og:image" content="http://embuscadocodigo.com/codigos/javascript/img/js27.png" />
          <meta property="og:image:width" content="1280">
          <meta property="og:image:height" content="720">
      <!--Twitter-->
          <meta name="twitter:card" content="summary_large_image">
          <meta name="twitter:image" content="http://embuscadocodigo.com/codigos/javascript/img/js27.png">
<!--cada uma pode ser diferente-->
<!--CSS-->
          <link rel="stylesheet" href="../../css/reset.css">
          <link rel="stylesheet" href="../../css/hefo.css">
          <link rel="stylesheet" href="../../css/novo.css">
          <link rel="stylesheet" href="../../css/erro.css">
          <link rel="stylesheet" href="../../css/fonte.css">
          <link rel="stylesheet" href="../../css/tabelas.css">
<!--Meta Tags exclusivas para Redes Sociais-->
          <meta property="fb:app_id" content="966242223397117">
          <meta name="twitter:site" content="@embuscadocodigo">
          <meta name="twitter:creator" content="@alamvianna">
<!--analytics-->
        <!--Google-->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-86654507-1"></script>
        <script src="http://embuscadocodigo.com/gtag.js"></script>
        <!--Mixpanel-->
        <script type="text/javascript" src="http://embuscadocodigo.com/mxp.js"></script>
     </head>
     <body>
    <header>
        <nav class="cabecalho">
            <ul>
                <li><a href="../../index.html">home</a></li>
                <li>|</li>
                <li><a href="http://blogs.embuscadocodigo.com/">Blogs</a></li>
                <li>|</li>
                <li><a href="../../sobre.html">Sobre</a></li>
                <li>|</li>
                <li><a href="../../codigos.html">Códigos</a></li>
            </ul>
            <section class="linhamenus">
            </section>
        </nav>
    </header>
    <section class="jah jah2">
        <p>O Em Busca do Código é um site em formato de plataforma de ensino a distância (EAD), totalmente aberta e gratuita.
        <br><br>
        Aprendendo e ensinando, essa é a minha regra para mim.
        <br><br>
         Publicado dia 14 de junho de 2017.</p>
    </section>
    <section class="adesivo adesivo2">
        <a href="http://produto.mercadolivre.com.br/MLB-800688733-adesivo-em-busca-do-codigo-_JM" target="_blank">
          <p>Compre um adesivo do Em Busca do Código.</p>
        </a>
    </section>
    <section class="prolat cachorro">
        <p>Publicidade</p>
        <iframe  src="prop/prolat.html" width="250" height="260" frameborder='0' scrolling="no"></iframe>
    </section>
    <section class="prolatgo cachorro" >
        <p>Publicidade</p>
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <!-- EBC JS--> 
        <ins class="adsbygoogle"
             style="display:inline-block;width:336px;height:280px"
             data-ad-client="ca-pub-5020252132627432"
             data-ad-slot="6229362170"></ins>
        <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
    </section>
    <section class="prolat cachorro">
        <p>Publicidade</p>
        <iframe src="prop/prolatdaddy.html" width="310" height="260" frameborder='0' scrolling="no"></iframe>
    </section>
<section class="paragrafoscodigos">
    <section>
        <nav  class="paginas">
            <ul>
                <li><a href="evento-onbeforeunload-javascript.html">anterior</a></li>
                <li>|</li>
                <li><a href="index.html">curso</a></li>
                <li>|</li>
                <li><a href="evento-onresize-em-javascript-dica-28.html">proxima</a></li>
            </ul>
        </nav>
    </section>
<!--Título-->                     <!--Título-->                     <!--Título-->
<!--Título-->                     <!--Título-->                     <!--Título-->
    <h1>Eventos onerror e onpageshow em JavaScript. Dica 27</h1>
<!--Título-->                     <!--Título-->                     <!--Título-->
<!--Título-->                     <!--Título-->                     <!--Título-->
    <p>
Bem vindo a  dica 27 de JavaScript da Em Busca do Código, e nesta dica veremos um exemplo do evento onerror e outro exemplo do evento onpageshow em JavaScript.
    </p>
    <p class="cabe">
O vídeo complementa o texto e o texto completa o vídeo, assista.
    </p>
    <div>
<iframe class="video" src="https://www.youtube.com/embed/TG5lPHp1ubE" frameborder="0" allowfullscreen></iframe>
<!-- class="video" -->
    </div>
<section class="prom ign">
<p>Publicidade</p>
<iframe src="prop/prolatgomo.html" width="310" height="260" frameborder='0' scrolling="no"></iframe>
</section>
    <p>
Esta dica é baseada diretamente na documentação da W3C.
    </p>
    <h2>Evento onerror</h2>
    <p>
O evento onerror é acionado quando um documento ou imagem não for carregado. Nesta dica utilizaremos ele em uma imagem e, diferentemente do exemplo da W3C, não utilizaremos um alert para informar que a imagem não foi carregada e sim o nosso já bem utilizado neste curso, document com getElementById. Eu já recebi feedbacks a respeito do uso de getElementById, não é errado utilizar, e assim que terminar de citar os eventos em JavaScript, vamos ter uma dica apenas sobre isso.
    </p>
    <p>
Voltando a esta dica em si, em nosso documento HTML inicial nós temos um documento inicial padrão.
    </p>
    <div class="fonte">
&lt;!DOCTYPE html&gt;<br />
&lt;html&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;head&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;title&gt;Eventos onerror e onpageshow em JavaScript. Dica 27&lt;/title&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;script src="js27.js"&gt;&lt;/script&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;meta charset="UTF-8"&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;/head&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;body &gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h1&gt;Eventos onerror e onpageshow em JavaScript. Dica 27&lt;/h1&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;img src="imagem.png"&gt;<br />
&lt;/body&gt;<br />
&lt;/html&gt;<br />
    </div>
<section class="prom ign">
<p>Publicidade</p>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- EBC JS--> 
<ins class="adsbygoogle"
     style="display:inline-block;width:336px;height:280px"
     data-ad-client="ca-pub-5020252132627432"
     data-ad-slot="6229362170"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</section>
    <p>
Linkando um arquivo JS, e em especial um imagem, essa imagem na verdade não existe e é aí que está o nosso primeiro teste. Salve este código fonte inicial com o nome que você quiser (.html) e abra em seu navegador. O correto é aparecer aquela imagem padrão de quando a verdadeira image não foi carregada.
    </p>
    <p>
Agora começa nosso primeiro teste. Vamos adicionar o evento onerror na tag img desta imagem.
    </p>
    <div class="fonte">
function error () {<br />
} <br />
    </div>
    <p>
E agora iremos utilizar document.getElementById para escrever algo em nosso documento HTML quando esse erro acontecer.
    </p>
    <div class="fonte">
document.getElementById("jisso").innerHTML = "Uma imagem não carregou";
    </div>
    <p>
Eu informei um ID que eu não criei no HTML, isso acontece porque, quando for uma imagem, mesmo que essa imagem tenha o ID informado, não conseguiremos gerenciar o conteúdo dela desta maneira.
    </p>
    <p>
Uma solução encontrada para este exemplo foi adicionar uma figure como tag mãe dessa imagem.
    </p>
    <div class="fonte">
&lt;figure id="jisso"&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;img src="imagem.png" onerror="error()"&gt;<br />
&lt;/figure&gt;
    </div>
    <h2>Evento onpageshow</h2>
    <p>
O evento onpageshow é acionado quando a página web termina de ser carregada, e vendo assim parece idêntico ao evento onload, mas, com duas grandes diferenças.
    </p>
    <p>
A primeira diferença é que, no Safari 4 e Internet Explorer 8 e versões anteriores desses dois navegadores, ele não funciona.
    </p>
    <p>
A segunda e na minha opinião a mais importante é que ele também é acionado também a partir do cache. Se a página web tiver os dois eventos, o evento onload ocorre antes.
    </p>
    <p>
Nós vimos o evento onload na dica número 24 deste curso. O link para a dica 24 está no final deste artigo junto com as fontes.
    </p>
    <p>
E assim como a dica 24, utilizaremos o evento onpageshow na tag body do nosso documento HTML.
    </p>
    <div class="fonte">
&lt;body onpageshow="show()"&gt;
    </div>
    <p>
Voltando ao documento JavaScript, agora iremos criar uma função para o evento onpageshow.
    </p>
    <div class="fonte">
function show () {&nbsp; <br />
}<br />
    </div>
<section class="prom ign">
<p>Publicidade</p>
<iframe src="prop/prolatgomo.html" width="310" height="260" frameborder='0' scrolling="no"></iframe>
</section>
    <p>
Pela última vez nesta dica  vamos ao doc HTML, vamos criar uma tag h2 com um id diferente.
    </p>
    <div class="fonte">
&lt;h2 id="idshow"&gt;&lt;/h2&gt;
    </div>
    <p>
Agora é só informarmos o que faz a function show.
    </p>
    <div class="fonte">
function show () {<br />
&nbsp;&nbsp;&nbsp; document.getElementById("idshow").innerHTML = "Página carregada";<br />
}<br />
    </div>
    <p>
Teste em seu navegador, e se eu puder deixar uma dica, utilize o bom senso.
    </p>
    <p>
Código fonte HTML (completo):
    </p>
    <div class="fonte">
&lt;!DOCTYPE html&gt;<br />
&lt;html&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;head&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;title&gt;Eventos onerror e onpageshow em JavaScript. Dica 27&lt;/title&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;script src="js27.js"&gt;&lt;/script&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;meta charset="UTF-8"&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;/head&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;body onpageshow="show()"&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h1&gt;Eventos onerror e onpageshow em JavaScript. Dica 27&lt;/h1&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;h2 id="idshow"&gt;&lt;/h2&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;figure id="jisso"&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;img src="img/imagem.png" onerror="error()" width="500px"&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/figure&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;/body&gt;<br />
&lt;/html&gt; 
    </div>
    <p>
Código fonte JavaScript (completo):
    </p>
    <div class="fonte">
function error () {<br />
&nbsp;&nbsp;&nbsp; document.getElementById("jisso").innerHTML = "Uma imagem não foi carregada.";<br />
}<br />
function show () {<br />
&nbsp;&nbsp;&nbsp; document.getElementById("idshow").innerHTML = "página carregada.";<br />
} 
    </div>
    <p>
Esta dica fica por aqui, espero que ela tenha sido útil, se foi útil já deixa seu like no YouTube (se der), compartilha com algum amigo que possa gostar também, se quiser complementar esta dica com alguma informação sobre estes eventos ou tiver alguma dúvida a respeito desta dica, ou algum feedback, comente lá no YouTube também. Até mais.
    </p>
<!--<section class="prom ign">
<p>Publicidade</p>
<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

<ins class="adsbygoogle"
     style="display:inline-block;width:336px;height:280px"
     data-ad-client="ca-pub-5020252132627432"
     data-ad-slot="6229362170"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
</section>-->
    <p>
Fontes:
    </p>
<a class="linkexterno" href="https://www.w3schools.com/jsref/event_onpageshow.asp" target="_blank">W3C: onpageshow</a>
<a class="linkexterno" href="https://www.w3schools.com/jsref/event_onerror.asp" target="_blank">W3c: onerror</a>
<a class="linkexterno" href="http://embuscadocodigo.com/codigos/javascript/verificar-cookies-em-javascript.html">Dica 24: onload</a>
    <p>
Confira outras dicas de JS do site. Já temos muito mais que o básico.
    </p>
    <section>
        <nav  class="paginas">
            <ul>
                <li><a href="evento-onbeforeunload-javascript.html">anterior</a></li>
                <li>|</li>
                <li><a href="index.html">curso</a></li>
                <li>|</li>
                <li><a href="evento-onresize-em-javascript-dica-28.html">proxima</a></li>
            </ul>
        </nav>
    </section>
</section>
     <footer>
          <div class="rodape">
               <img src="../../css/img/001.png">
               2017 Em Busca do Código
          </div>
          <nav class="redes">
               <ul>
                    <li><a href="https://www.facebook.com/embuscadocodigo" target="_blank"><img src="../../img/007.png"></a></li>
		          <li><a href="https://plus.google.com/115289918651298518386" target="_blank"><img src="../../img/008.png"></a></li>
		          <li><a href="https://www.youtube.com/channel/UC6EgJeCFC-P96Y0Gvla0Z3w" target="_blank"><img src="../../img/009.png"></a></li>
		          <li><a href="https://www.instagram.com/alamvianna/" target="_blank"><img src="../../img/010.png"></a></li>
		          <li><a href="https://www.twitter.com/alamvianna/" target="_blank"><img src="../../img/011.png"></a></li>
	          </ul>
          </nav>
     </footer>
<p class="antibloq">Se estiver utilizando bloqueador de propaganda, por favor, coloque este site na lista branca (isto sempre será apenas um pedido). Obrigado pela escolha.</p>
		<section class="prose">
		</section>
<iframe class="propmeio2" src="prop/iframepropdois.html" width="728" height="120px" frameborder='0' scrolling="no"></iframe>
	</body>
</html>
